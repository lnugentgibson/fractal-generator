"use strict";var _window=window,angular=_window.angular;angular.module("oaGLSLNoise",["oaWebglHelpers"]).service("oaNoiseShaderFunctions",["oaWebglShaderHelpers","oaWebglShaderSnippet","oaWebglFunctionSnippet","oaWebglSnippet",function(a,b,c,d){var e=new b("standardVertexShader");e.variables.add("a_position","attribute","vec4"),e.variables.apply(),e.mainSnippet=new d("body","gl_Position = a_position;");var f=new c("rand","float","snippet");f.parameters.add("f","float"),f.parameters.apply(),f.bodySnippet=new d("body","return fract(sin(f * u_sineseed[0].x + u_sineseed[0].y) * u_sineseed[0].z + u_sineseed[0].w);");var g=new c("rand","float","snippet");g.parameters.add("f","float"),g.parameters.add("s","vec4"),g.parameters.apply(),g.bodySnippet=new d("body","return fract(sin(f * s.x + s.y) * s.z + s.w);");var h=new c("rand","float","snippet");h.parameters.add("v","vec2"),h.parameters.apply(),h.bodySnippet=new d("body","return rand(dot(v, u_dotseed[0].xy));");var i=new c("rand","float","snippet");i.parameters.add("v","vec2"),i.parameters.add("d","mat4"),i.parameters.add("s","vec4"),i.parameters.apply(),i.bodySnippet=new d("body","return rand(dot(v, d[0].xy), s);");var j=new c("rand","float","snippet");j.parameters.add("v","vec3"),j.parameters.apply(),j.bodySnippet=new d("body","return rand(dot(v, u_dotseed[0].xyz));");var k=new c("rand","float","snippet");k.parameters.add("v","vec3"),k.parameters.add("d","mat4"),k.parameters.add("s","vec4"),k.parameters.apply(),k.bodySnippet=new d("body","return rand(dot(v, d[0].xyz), s);");var l=new c("rand","float","snippet");l.parameters.add("v","vec4"),l.parameters.apply(),l.bodySnippet=new d("body","return rand(dot(v, u_dotseed[0]));");var m=new c("rand","float","snippet");m.parameters.add("v","vec4"),m.parameters.add("d","mat4"),m.parameters.add("s","vec4"),m.parameters.apply(),m.bodySnippet=new d("body","return rand(dot(v, d[0]), s);");var n=new c("rand2","vec2","snippet");n.parameters.add("v","vec2"),n.parameters.apply(),n.bodySnippet=new d("body","return vec2(rand(dot(v, u_dotseed[0].xy)), rand(dot(v, u_dotseed[1].xy)));");var o=new c("rand2","vec2","snippet");o.parameters.add("v","vec2"),o.parameters.add("d","mat4"),o.parameters.add("s","vec4"),o.parameters.apply(),o.bodySnippet=new d("body","return vec2(rand(dot(v, d[0].xy), s), rand(dot(v, d[1].xy), s));");var p=new c("rand2Rot","vec2","snippet");p.parameters.add("v","vec2"),p.parameters.apply(),p.bodySnippet=new d("body","float a = 2.0 * 3.14159265358 * rand(dot(v, u_dotseed[0].xy));\n  return vec2(cos(a), sin(a));");var q=new c("rand2Rot","vec2","snippet");q.parameters.add("v","vec2"),q.parameters.add("d","mat4"),q.parameters.add("s","vec4"),q.parameters.apply(),q.bodySnippet=new d("body","float a = 2.0 * 3.14159265358 * rand(dot(v, d[0].xy), s);\n  return vec2(cos(a), sin(a));");var r=new c("rand2Unit","vec2","snippet");r.parameters.add("v","vec2"),r.parameters.apply(),r.bodySnippet=new d("body","vec2 r = rand2(v);\n  if(length(r) < 0.00001)\n    return r = rand2(v.yx);\n  return r / length(v);");var s=new c("rand2Unit","vec2","snippet");s.parameters.add("v","vec2"),s.parameters.add("d","mat4"),s.parameters.add("s","mat4"),s.parameters.apply(),s.bodySnippet=new d("body","vec2 r = rand2(v, d, s[0]);\n  if(length(r) < 0.00001)\n    return r = rand2(v, d, s[1]);\n  if(length(r) < 0.00001)\n    return r = rand2(v, d, s[2]);\n  if(length(r) < 0.00001)\n    return r = rand2(v, d, s[3]);\n  return r / length(v);");var t=new c("rand3","vec3","snippet");t.parameters.add("v","vec3"),t.parameters.apply(),t.bodySnippet=new d("body","return vec3(rand(dot(v, d[0].xyz)), rand(dot(v, d[1].xyz)), rand(dot(v, d[2].xyz)));");var u=new c("rand3","vec3","snippet");u.parameters.add("v","vec3"),u.parameters.add("d","mat4"),u.parameters.add("s","vec4"),u.parameters.apply(),u.bodySnippet=new d("body","return vec3(rand(dot(v, d[0].xyz), s), rand(dot(v, d[1].xyz), s), rand(dot(v, d[2].xyz), s));");var v=new c("rand3Rot","vec3","snippet");v.parameters.add("v","vec3"),v.parameters.apply(),v.bodySnippet=new d("body","float x = 2.0 * 3.14159265358 * rand(dot(v, dotseed[0].xyz));\n  float y = 2.0 * 3.14159265358 * rand(dot(v, dotseed[1].xyz));\n  float z = 2.0 * 3.14159265358 * rand(dot(v, dotseed[2].xyz));\n  return mat3(\n    1.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x),\n    0.0, sin(x), cos(x)\n  ) * mat3(\n    cos(y), 0.0, sin(y),\n    0.0, 1.0, 0.0,\n    -sin(y), 0.0, cos(y)\n  ) * mat3(\n    cos(z), -sin(z), 0.0,\n    sin(z), cos(z), 0.0,\n    0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var w=new c("rand3Rot","vec3","snippet");w.parameters.add("v","vec3"),w.parameters.add("d","mat4"),w.parameters.add("s","vec4"),w.parameters.apply(),w.bodySnippet=new d("body","float x = 2.0 * 3.14159265358 * rand(dot(v, d[0].xyz), s);\n  float y = 2.0 * 3.14159265358 * rand(dot(v, d[1].xyz), s);\n  float z = 2.0 * 3.14159265358 * rand(dot(v, d[2].xyz), s);\n  return mat3(\n    1.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x),\n    0.0, sin(x), cos(x)\n  ) * mat3(\n    cos(y), 0.0, sin(y),\n    0.0, 1.0, 0.0,\n    -sin(y), 0.0, cos(y)\n  ) * mat3(\n    cos(z), -sin(z), 0.0,\n    sin(z), cos(z), 0.0,\n    0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var x=new c("rand3Unit","vec3","snippet");x.parameters.add("v","vec3"),x.parameters.apply(),x.bodySnippet=new d("body","vec2 r = rand3(v);\n  if(length(r) < 0.00001)\n    return r = rand3(v.yzx);\n  if(length(r) < 0.00001)\n    return r = rand3(v.zxy);\n  if(length(r) < 0.00001)\n    return r = rand3(v.zyx);\n  if(length(r) < 0.00001)\n    return r = rand3(v.yxz);\n  if(length(r) < 0.00001)\n    return r = rand3(v.xzy);\n  return r / length(v);");var y=new c("rand3Unit","vec3","snippet");y.parameters.add("v","vec3"),y.parameters.add("d","mat4"),y.parameters.add("s","mat4"),y.parameters.apply(),y.bodySnippet=new d("body","vec2 r = rand3(v, d, s[0]);\n  if(length(r) < 0.00001)\n    return r = rand3(v, d, s[1]);\n  if(length(r) < 0.00001)\n    return r = rand3(v, d, s[2]);\n  if(length(r) < 0.00001)\n    return r = rand3(v, d, s[3]);\n  return r / length(v);");var z=new c("rand4","vec4","snippet");z.parameters.add("v","vec4"),z.parameters.apply(),z.bodySnippet=new d("body","return vec4(rand(dot(v, d[0])), rand(dot(v, d[1])), rand(dot(v, d[2])), rand(dot(v, d[3])));");var A=new c("rand4","vec4","snippet");A.parameters.add("v","vec4"),A.parameters.add("d","mat4"),A.parameters.add("s","vec4"),A.parameters.apply(),A.bodySnippet=new d("body","return vec4(rand(dot(v, d[0]), s), rand(dot(v, d[1]), s), rand(dot(v, d[2]), s), rand(dot(v, d[3]), s));");var B=new c("rand4Rot","vec4","snippet");B.parameters.add("v","vec4"),B.parameters.apply(),B.bodySnippet=new d("body","float x = 2.0 * 3.14159265358 * rand(dot(v, dotseed[0]));\n  float y = 2.0 * 3.14159265358 * rand(dot(v, dotseed[1]));\n  float z = 2.0 * 3.14159265358 * rand(dot(v, dotseed[2]));\n  float w = 2.0 * 3.14159265358 * rand(dot(v, dotseed[3]));\n  return mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x), 0.0,\n    0.0, sin(x), cos(x) 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, cos(y), -sin(y),\n    0.0, 0.0, sin(y), cos(y)\n  ) * mat3(\n    cos(z), 0.0, 0.0, sin(z),\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    -sin(z), 0.0, 0.0, cos(z)\n  ) * mat3(\n    cos(w), -sin(w), 0.0, 0.0,\n    sin(w), cos(w), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var C=new c("rand4Rot","vec4","snippet");C.parameters.add("v","vec4"),C.parameters.add("d","mat4"),C.parameters.add("s","vec4"),C.parameters.apply(),C.bodySnippet=new d("body","float x = 2.0 * 3.14159265358 * rand(dot(v, d[0]), s);\n  float y = 2.0 * 3.14159265358 * rand(dot(v, d[1]), s);\n  float z = 2.0 * 3.14159265358 * rand(dot(v, d[2]), s);\n  float w = 2.0 * 3.14159265358 * rand(dot(v, d[3]), s);\n  return mat3mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x), 0.0,\n    0.0, sin(x), cos(x) 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, cos(y), -sin(y),\n    0.0, 0.0, sin(y), cos(y)\n  ) * mat3(\n    cos(z), 0.0, 0.0, sin(z),\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    -sin(z), 0.0, 0.0, cos(z)\n  ) * mat3(\n    cos(w), -sin(w), 0.0, 0.0,\n    sin(w), cos(w), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var D=new c("rand4Unit","vec4","snippet");D.parameters.add("v","vec4"),D.parameters.apply(),D.bodySnippet=new d("body","vec4 r = rand4(v);\n  if(length(r) < 0.00001)\n    return r = rand4(v.yzwx);\n  if(length(r) < 0.00001)\n    return r = rand4(v.zwxy);\n  if(length(r) < 0.00001)\n    return r = rand4(v.wxyz);\n  return r / length(v);");var E=new c("rand4Unit","vec4","snippet");E.parameters.add("v","vec4"),E.parameters.add("d","mat4"),E.parameters.add("s","mat4"),E.parameters.apply(),E.bodySnippet=new d("body","vec2 r = rand4(v, d, s[0]);\n  if(length(r) < 0.00001)\n    return r = rand4(v, d, s[1]);\n  if(length(r) < 0.00001)\n    return r = rand4(v, d, s[2]);\n  if(length(r) < 0.00001)\n    return r = rand4(v, d, s[3]);\n  return r / length(v);");var F=new c("mix1","float","snippet");F.parameters.addMultiple([{paramname:"x",datatype:"float"},{paramname:"y",datatype:"float"},{paramname:"a",datatype:"float"}]),F.parameters.apply(),F.bodySnippet=new d("body","return (1.0 - a) * x + a * y;");var G=new c("curve3","float","snippet");G.parameters.add("a","float"),G.parameters.apply(),G.bodySnippet=new d("body","return a * a * (3.0 - 2.0 * a);");var H=new c("mix3","float","snippet");H.parameters.addMultiple([{paramname:"x",datatype:"float"},{paramname:"y",datatype:"float"},{paramname:"a",datatype:"float"}]),H.parameters.apply(),H.bodySnippet=new d("body","return mix1(x, y, curve3(a));");var I=new c("curve5","float","snippet");I.parameters.add("a","float"),I.parameters.apply(),I.bodySnippet=new d("body","return a * a * a * (a * (6.0 * a - 15.0) + 10.0);");var J=new c("mix5","float","snippet");J.parameters.addMultiple([{paramname:"x",datatype:"float"},{paramname:"y",datatype:"float"},{paramname:"a",datatype:"float"}]),J.parameters.apply(),J.bodySnippet=new d("body","return mix1(x, y, curve5(a));");var K=new c("perlin","float","snippet");K.parameters.add("p","vec2"),K.parameters.apply(),K.bodySnippet=new d("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  float sw = rand(l), se = rand(vec2(u.x, l.y));\n  float nw = rand(vec2(l.x, u.y)), ne = rand(u);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var L=new c("perlin","float","snippet");L.parameters.add("p","vec2"),L.parameters.add("ds","mat4"),L.parameters.add("ss","vec4"),L.parameters.apply(),L.bodySnippet=new d("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  float sw = rand(l, ds, ss), se = rand(vec2(u.x, l.y), ds, ss);\n  float nw = rand(vec2(l.x, u.y), ds, ss), ne = rand(u, ds, ss);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var M=new c("fperlin","float","snippet");M.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),M.parameters.apply(),M.bodySnippet=new d("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 7; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value += (perlin(p / r, ds, c) * 2.0 - 1.0) / s;\n  s = s * l;\n  r = r / l;\n}\nreturn value * 0.5 + 0.5;");var N=new c("perlin","float","snippet");N.parameters.add("pos","vec3"),N.parameters.apply(),N.bodySnippet=new d("body","vec3 l = floor(pos);\n  vec3 u = ceil(pos);\n  vec3 f = fract(pos);\n  float nnn = rand(l),                   nnp = rand(vec3(l.xy, u.z));\n  float npn = rand(vec3(l.x, u.y, l.z)), npp = rand(vec3(l.x, u.yz));\n  float pnn = rand(vec3(u.x, l.yz)),     pnp = rand(vec3(u.x, l.y, u.z));\n  float ppn = rand(vec3(u.xy, l.z)),     ppp = rand(u);\n  float nn = mix5(nnn, nnp, f.z), np = mix5(npn, npp, f.z);\n  float pn = mix5(pnn, pnp, f.z), pp = mix5(ppn, ppp, f.z);\n  float n = mix5(nn, np, f.y), p = mix5(pn, pp, f.y);\n  return mix5(n, p, f.x);");var O=new c("perlin","float","snippet");O.parameters.add("pos","vec3"),O.parameters.add("ds","mat4"),O.parameters.add("ss","vec4"),O.parameters.apply(),O.bodySnippet=new d("body","vec3 l = floor(pos);\n  vec3 u = ceil(pos);\n  vec3 f = fract(pos);\n  float nnn = rand(l, ds, ss), nnp = rand(vec3(l.xy, u.z), ds, ss);\n  float npn = rand(vec3(l.x, u.y, l.z), ds, ss), npp = rand(vec3(l.x, u.yz), ds, ss);\n  float pnn = rand(vec3(u.x, l.yz), ds, ss), pnp = rand(vec3(u.x, l.y, u.z), ds, ss);\n  float ppn = rand(vec3(u.xy, l.z), ds, ss), ppp = rand(u, ds, ss);\n  float nn = mix5(nnn, nnp, f.z), np = mix5(npn, npp, f.z);\n  float pn = mix5(pnn, pnp, f.z), pp = mix5(ppn, ppp, f.z);\n  float n = mix5(nn, np, f.y), p = mix5(pn, pp, f.y);\n  return mix5(n, p, f.x);");var P=new c("fperlin","float","snippet");P.parameters.addMultiple([{paramname:"p",datatype:"vec3"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"fb",datatype:"vec3"},{paramname:"is",datatype:"int"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),P.parameters.apply(),P.bodySnippet=new d("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 10; i++) {\n  if(i < is) {\n    c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n    value += (perlin(fb * value + vec3(p.xy / r, p.z), ds, c) * 2.0 - 1.0) / s;\n    s = s * l;\n    r = r / l;\n  }\n}\nreturn value * 0.5 + 0.5;");var Q=new c("perlinGradient","float","snippet");Q.parameters.add("p","vec2"),Q.parameters.apply(),Q.bodySnippet=new d("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  vec2 vse = vec2(u.x, l.y), vnw = vec2(l.x, u.y);\n  float sw = dot(rand2Rot(l), p - l), se = dot(rand2Rot(vse), p - vse);\n  float nw = dot(rand2Rot(vnw), p - vnw), ne = dot(rand2Rot(u), p - u);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var R=new c("perlinGradient","float","snippet");R.parameters.add("p","vec2"),R.parameters.add("ds","mat4"),R.parameters.add("ss","vec4"),R.parameters.apply(),R.bodySnippet=new d("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  vec2 vse = vec2(u.x, l.y), vnw = vec2(l.x, u.y);\n  float sw = dot(rand2Rot(l, ds, ss), p - l), se = dot(rand2Rot(vse, ds, ss), p - vse);\n  float nw = dot(rand2Rot(vnw, ds, ss), p - vnw), ne = dot(rand2Rot(u, ds, ss), p - u);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var S=new c("fperlinGradient","float","snippet");S.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),S.parameters.apply(),S.bodySnippet=new d("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 7; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value += perlinGradient(p / r, ds, c) / s;\n  s = s * l;\n  r = r / l;\n}\nreturn value * 0.5 + 0.5;");var T=new c("simplex","float","snippet");T.parameters.add("p","vec2"),T.parameters.apply(),T.bodySnippet=new d("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 op = gl_FragCoord.xy / u_resolution;\n  vec2 ip = it * op;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 ol = t * il;\n  vec2 oc, oc1, oc2, oc3;\n  oc = ol + vec2(0.75, sqrt(3.0) / 4.0);\n  oc2 = ol + vec2(1.0, 0.0);\n  oc3 = ol + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = oc2.y - oc3.y, x32 = oc3.x - oc2.x, x13, y13;\n  float x03 = op.x - oc3.x, y03 = op.y - oc3.y;\n  if(f.x + f.y < 1.0) {\n    oc1 = ol;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    oc1 = ol + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = oc1.x - oc3.x;\n  y13 = oc1.y - oc3.y;\n  vec3 r = vec3(rand(oc1), rand(oc2), rand(oc3));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z);");var U=new c("simplex","float","snippet");U.parameters.add("p","vec2"),U.parameters.add("ds","mat4"),U.parameters.add("ss","vec4"),U.parameters.apply(),U.bodySnippet=new d("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 op = gl_FragCoord.xy / u_resolution;\n  vec2 ip = it * op;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 ol = t * il;\n  vec2 oc, oc1, oc2, oc3;\n  oc = ol + vec2(0.75, sqrt(3.0) / 4.0);\n  oc2 = ol + vec2(1.0, 0.0);\n  oc3 = ol + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = oc2.y - oc3.y, x32 = oc3.x - oc2.x, x13, y13;\n  float x03 = op.x - oc3.x, y03 = op.y - oc3.y;\n  if(f.x + f.y < 1.0) {\n    oc1 = ol;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    oc1 = ol + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = oc1.x - oc3.x;\n  y13 = oc1.y - oc3.y;\n  vec3 r = vec3(rand(oc1, ds, ss), rand(oc2, ds, ss), rand(oc3, ds, ss));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z);");var V=new c("fsimplex","float","snippet");V.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),V.parameters.apply(),V.bodySnippet=new d("body","float value = 0.0;\nvec4 c = ss;\nfor(float i = 0.0; i < 5.0; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value = (simplex(p * pow(2.0, i) / r, ds, c) * 2.0 - 1.0) * pow(0.5, i) / s;\n  //value = simplex(p / r, ds, c) / s;\n}\nreturn value * 0.5 + 0.5;");var W=new c("simplexGradient","float","snippet");W.parameters.add("p","vec2"),W.parameters.apply(),W.bodySnippet=new d("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 ip = it * p;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 l = t * il;\n  vec2 c, c1, c2, c3;\n  c = l + vec2(0.75, sqrt(3.0) / 4.0);\n  c2 = l + vec2(1.0, 0.0);\n  c3 = l + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = c2.y - c3.y, x32 = c3.x - c2.x, x13, y13;\n  float x03 = p.x - c3.x, y03 = p.y - c3.y;\n  if(f.x + f.y < 1.0) {\n    c1 = l;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    c1 = l + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = c1.x - c3.x;\n  y13 = c1.y - c3.y;\n  vec3 r = vec3(dot(rand2Rot(c1), p - c1), dot(rand2Rot(c2), p - c2), dot(rand2Rot(c3), p - c3));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z);");var X=new c("simplexGradient","float","snippet");X.parameters.add("p","vec2"),X.parameters.add("ds","mat4"),X.parameters.add("ss","vec4"),X.parameters.apply(),X.bodySnippet=new d("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 ip = it * p;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 l = t * il;\n  vec2 c, c1, c2, c3;\n  c = l + vec2(0.75, sqrt(3.0) / 4.0);\n  c2 = l + vec2(1.0, 0.0);\n  c3 = l + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = c2.y - c3.y, x32 = c3.x - c2.x, x13, y13;\n  float x03 = p.x - c3.x, y03 = p.y - c3.y;\n  if(f.x + f.y < 1.0) {\n    c1 = l;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    c1 = l + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = c1.x - c3.x;\n  y13 = c1.y - c3.y;\n  vec3 r = vec3(dot(rand2Rot(c1, ds, ss), p - c1), dot(rand2Rot(c2, ds, ss), p - c2), dot(rand2Rot(c3, ds, ss), p - c3));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z) * 0.5 + 0.5;");var Y=new c("fsimplexGradient","float","snippet");Y.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),Y.parameters.apply(),Y.bodySnippet=new d("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 7; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value += simplexGradient(p / r, ds, c) / s;\n  s = s * l;\n  r = r / l;\n}\nreturn value * 0.5 + 0.5;");var Z=new c("ridge","float","snippet");Z.parameters.add("h","float"),Z.parameters.add("offset","float"),Z.parameters.apply(),Z.bodySnippet=new d("body","h = abs(h);\nh = offset - h;\nh = h * h;\nreturn h;");var $=function(){var a=new d("grayscale");return a.source='vec4(vec3(${S("value", "null")}), ${P("alpha")})',a.addParameter("v","alpha",{type:"float",nullValue:1}),a},_=function(){var a=new d("direction2");return a.source='vec4(${S("dir", "null")} * 0.5 + 0.5, ${P("blue")}, ${P("alpha")})',a.addParameter("v","alpha",{type:"float",nullValue:1}),a.addParameter("v","blue",{type:"float",nullValue:.5}),a},aa=function(){var a=new d("direction2");return a.source='vec4(${S("dir", "null")} * 0.5 + 0.5, ${P("alpha")})',a.addParameter("v","alpha",{type:"float",nullValue:1}),a},ba=new b("sineNoiseFragment");ba.variables.addMultiple([{varname:"u_sineseed",datatype:a.DATATYPE_MAT4,vartype:"uniform"},{varname:"u_dotseed",datatype:a.DATATYPE_MAT4,vartype:"uniform"},{varname:"u_resolution",datatype:a.DATATYPE_FLOAT,vartype:"uniform"}]),ba.variables.apply(),ba.addFunctions([f,h]);var ca=$();ca.addSnippet("value",new d("sinenoise","rand(floor(gl_FragCoord.xy / u_resolution))")),ca.setParameterValue("alpha","1.0");var da=new d("sineNoiseFragmentBody");da.source='gl_FragColor = ${S("grayscale", "null")};',da.addSnippet("grayscale",ca),ba.mainSnippet=da;var ea=new b("sineNoiseFragment");ea.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ea.variables.apply(),ea.addFunctions([f,p]);var fa=_();fa.addSnippet("dir",new d("sinenoise","rand2Rot(floor(gl_FragCoord.xy / u_resolution))")),fa.setParameterValue("blue","1.0"),fa.setParameterValue("alpha","1.0");var ga=new d("sineNoiseFragmentBody");ga.source='gl_FragColor = ${S("direction", "null")};',ga.addSnippet("direction",fa),ea.mainSnippet=ga;var ha=new b("perlinNoiseFragment");ha.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ha.variables.apply(),ha.addFunctions([f,h,F,I,J,K]),ca=$(),ca.addSnippet("value",new d("perlinnoise","perlin(gl_FragCoord.xy / u_resolution)")),ca.setParameterValue("alpha","1.0");var ia=new d("sineNoiseFragmentBody");ia.source='gl_FragColor = ${S("grayscale", "null")};',ia.addSnippet("grayscale",ca),ha.mainSnippet=ia;var ja=new b("fractalPerlinNoiseFragment");ja.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ja.variables.apply(),ja.addFunctions([g,i,A,F,I,J,L,M]),ca=$(),ca.addSnippet("value",new d("fractalperlinnoise","fperlin(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ca.setParameterValue("alpha","1.0");var ka=new d("sineNoiseFragmentBody");ka.source='gl_FragColor = ${S("grayscale", "null")};',ka.addSnippet("grayscale",ca),ja.mainSnippet=ka;var la=new b("perlinNoiseFragment");la.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"},{varname:"u_time",datatype:"float",vartype:"uniform"}]),la.variables.apply(),la.addFunctions([f,j,F,I,J,N]),ca=$(),ca.addSnippet("value",new d("perlinnoise","perlin(vec3(gl_FragCoord.xy / u_resolution, u_time))")),ca.setParameterValue("alpha","1.0");var ma=new d("sineNoiseFragmentBody");ma.source='gl_FragColor = ${S("grayscale", "null")};',ma.addSnippet("grayscale",ca),la.mainSnippet=ma;var na=new b("fractalPerlinNoiseFragment");na.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"},{varname:"u_time",datatype:"float",vartype:"uniform"}]),na.variables.apply(),na.addFunctions([g,k,A,F,I,J,O,P]),ca=$(),ca.addSnippet("value",new d("fractalperlinnoise","fperlin(vec3(gl_FragCoord.xy, u_time), u_resolution, 1.0, 2.0, vec3(0.0), 10, u_dotseed, u_sineseed[0])")),ca.setParameterValue("alpha","1.0");var oa=new d("sineNoiseFragmentBody");oa.source='gl_FragColor = ${S("grayscale", "null")};',oa.addSnippet("grayscale",ca),na.mainSnippet=oa;var pa=new b("perlinNoiseFragment");pa.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),pa.variables.apply(),pa.addFunctions([f,p,F,I,J,Q]),ca=$(),ca.addSnippet("value",new d("perlinnoise","perlinGradient(gl_FragCoord.xy / u_resolution) * 0.5 + 0.5")),ca.setParameterValue("alpha","1.0");var qa=new d("sineNoiseFragmentBody");qa.source='gl_FragColor = ${S("grayscale", "null")};',qa.addSnippet("grayscale",ca),pa.mainSnippet=qa;var ra=new b("fractalPerlinNoiseFragment");ra.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ra.variables.apply(),ra.addFunctions([g,q,A,F,I,J,R,S]),ca=$(),ca.addSnippet("value",new d("fractalperlinnoise","fperlinGradient(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ca.setParameterValue("alpha","1.0");var sa=new d("sineNoiseFragmentBody");sa.source='gl_FragColor = ${S("grayscale", "null")};',sa.addSnippet("grayscale",ca),ra.mainSnippet=sa;var ta=new b("simplexNoiseFragment");ta.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ta.variables.apply(),ta.addFunctions([f,h,F,I,J,T]),ca=$(),ca.addSnippet("value",new d("simplexnoise","simplex(gl_FragCoord.xy / u_resolution)")),ca.setParameterValue("alpha","1.0");var ua=new d("sineNoiseFragmentBody");ua.source='gl_FragColor = ${S("grayscale", "null")};',ua.addSnippet("grayscale",ca),ta.mainSnippet=ua;var va=new b("fractalSimplexNoiseFragment");va.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),va.variables.apply(),va.addFunctions([g,i,A,F,I,J,U,V]),ca=$(),ca.addSnippet("value",new d("fractalsimplexnoise","fsimplex(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ca.setParameterValue("alpha","1.0");var wa=new d("sineNoiseFragmentBody");wa.source='gl_FragColor = ${S("grayscale", "null")};',wa.addSnippet("grayscale",ca),va.mainSnippet=wa;var xa=new b("simplexNoiseFragment");xa.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),xa.variables.apply(),xa.addFunctions([f,p,F,I,J,W]),ca=$(),ca.addSnippet("value",new d("simplexnoise","simplexGradient(gl_FragCoord.xy / u_resolution) * 0.5 + 0.5")),ca.setParameterValue("alpha","1.0");var ya=new d("sineNoiseFragmentBody");ya.source='gl_FragColor = ${S("grayscale", "null")};',ya.addSnippet("grayscale",ca),xa.mainSnippet=ya;var za=new b("fractalSimplexNoiseFragment");za.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),za.variables.apply(),za.addFunctions([g,q,A,F,I,J,X,Y]),ca=$(),ca.addSnippet("value",new d("fractalsimplexnoise","fsimplexGradient(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ca.setParameterValue("alpha","1.0");var Aa=new d("sineNoiseFragmentBody");return Aa.source='gl_FragColor = ${S("grayscale", "null")};',Aa.addSnippet("grayscale",ca),za.mainSnippet=Aa,{snippets:{grayscaleSnippet:$,direction2Snippet:_,direction3Snippet:aa},functions:{rand11Function:f,rand11SeededFunction:g,rand12Function:h,rand12SeededFunction:i,rand13Function:j,rand13SeededFunction:k,rand14Function:l,rand14SeededFunction:m,rand22Function:n,rand22SeededFunction:o,rand22RotFunction:p,rand22RotSeededFunction:q,rand22UnitFunction:r,rand22UnitSeededFunction:s,rand33Function:t,rand33SeededFunction:u,rand33RotFunction:v,rand33RotSeededFunction:w,rand33UnitFunction:x,rand33UnitSeededFunction:y,rand44Function:z,rand44SeededFunction:A,rand44RotFunction:B,rand44RotSeededFunction:C,rand44UnitFunction:D,rand44UnitSeededFunction:E,mix1Function:F,curve3Function:G,mix3Function:H,curve5Function:I,mix5Function:J,perlin2NoiseFunction:K,perlin2NoiseSeededFunction:L,perlin2GradientNoiseFunction:Q,perlin2GradientNoiseSeededFunction:R,simplex2NoiseFunction:T,simplex2NoiseSeededFunction:U,simplex2GradientNoiseFunction:W,simplex2GradientNoiseSeededFunction:X,fractalPerlin2NoiseFunction:M,fractalPerlin2GradientNoiseFunction:S,ridgeFunction:Z,all:[f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,Q,R,T,U,W,X,M,S,Z]},shaders:{vertex:{standardVertexShader:e},fragment:{sineNoiseFragment:ba,sine2RotNoiseFragment:ea,perlin2NoiseFragment:ha,fractalPerlin2NoiseFragment:ja,perlin3NoiseFragment:la,fractalPerlin3NoiseFragment:na,perlin2GradientNoiseFragment:pa,fractalPerlin2GradientNoiseFragment:ra,simplex2NoiseFragment:ta,fractalSimplex2NoiseFragment:va,simplex2GradientNoiseFragment:xa,fractalSimplex2GradientNoiseFragment:za}}}}]);