"use strict";var _window=window,angular=_window.angular;angular.module("oaGLSLNoise",["oaWebglHelpers"]).service("oaNoiseShaderFunctions",["oaWebglShaderSnippet","oaWebglFunctionSnippet","oaWebglSnippet",function(a,b,c){var d=new a("standardVertexShader");d.variables.add("a_position","attribute","vec4"),d.variables.apply(),d.mainSnippet=new c("body","gl_Position = a_position;");var e=new b("rand","float","snippet");e.parameters.add("f","float"),e.parameters.apply(),e.bodySnippet=new c("body","return fract(sin(f * u_sineseed[0].x + u_sineseed[0].y) * u_sineseed[0].z + u_sineseed[0].w);");var f=new b("rand","float","snippet");f.parameters.add("f","float"),f.parameters.add("s","vec4"),f.parameters.apply(),f.bodySnippet=new c("body","return fract(sin(f * s.x + s.y) * s.z + s.w);");var g=new b("rand","float","snippet");g.parameters.add("v","vec2"),g.parameters.apply(),g.bodySnippet=new c("body","return rand(dot(v, u_dotseed[0].xy));");var h=new b("rand","float","snippet");h.parameters.add("v","vec2"),h.parameters.add("d","mat4"),h.parameters.add("s","vec4"),h.parameters.apply(),h.bodySnippet=new c("body","return rand(dot(v, d[0].xy), s);");var i=new b("rand","float","snippet");i.parameters.add("v","vec3"),i.parameters.apply(),i.bodySnippet=new c("body","return rand(dot(v, u_dotseed[0].xyz));");var j=new b("rand","float","snippet");j.parameters.add("v","vec3"),j.parameters.add("d","mat4"),j.parameters.add("s","vec4"),j.parameters.apply(),j.bodySnippet=new c("body","return rand(dot(v, d[0].xyz), s);");var k=new b("rand","float","snippet");k.parameters.add("v","vec4"),k.parameters.apply(),k.bodySnippet=new c("body","return rand(dot(v, u_dotseed[0]));");var l=new b("rand","float","snippet");l.parameters.add("v","vec4"),l.parameters.add("d","mat4"),l.parameters.add("s","vec4"),l.parameters.apply(),l.bodySnippet=new c("body","return rand(dot(v, d[0]), s);");var m=new b("rand2","vec2","snippet");m.parameters.add("v","vec2"),m.parameters.apply(),m.bodySnippet=new c("body","return vec2(rand(dot(v, u_dotseed[0].xy)), rand(dot(v, u_dotseed[1].xy)));");var n=new b("rand2","vec2","snippet");n.parameters.add("v","vec2"),n.parameters.add("d","mat4"),n.parameters.add("s","vec4"),n.parameters.apply(),n.bodySnippet=new c("body","return vec2(rand(dot(v, d[0].xy), s), rand(dot(v, d[1].xy), s));");var o=new b("rand2Rot","vec2","snippet");o.parameters.add("v","vec2"),o.parameters.apply(),o.bodySnippet=new c("body","float a = 2.0 * 3.14159265358 * rand(dot(v, u_dotseed[0].xy));\n  return vec2(cos(a), sin(a));");var p=new b("rand2Rot","vec2","snippet");p.parameters.add("v","vec2"),p.parameters.add("d","mat4"),p.parameters.add("s","vec4"),p.parameters.apply(),p.bodySnippet=new c("body","float a = 2.0 * 3.14159265358 * rand(dot(v, d[0].xy), s);\n  return vec2(cos(a), sin(a));");var q=new b("rand2Unit","vec2","snippet");q.parameters.add("v","vec2"),q.parameters.apply(),q.bodySnippet=new c("body","vec2 r = rand2(v);\n  if(length(r) < 0.00001)\n    return r = rand2(v.yx);\n  return r / length(v);");var r=new b("rand2Unit","vec2","snippet");r.parameters.add("v","vec2"),r.parameters.add("d","mat4"),r.parameters.add("s","mat4"),r.parameters.apply(),r.bodySnippet=new c("body","vec2 r = rand2(v, d, s[0]);\n  if(length(r) < 0.00001)\n    return r = rand2(v, d, s[1]);\n  if(length(r) < 0.00001)\n    return r = rand2(v, d, s[2]);\n  if(length(r) < 0.00001)\n    return r = rand2(v, d, s[3]);\n  return r / length(v);");var s=new b("rand3","vec3","snippet");s.parameters.add("v","vec3"),s.parameters.apply(),s.bodySnippet=new c("body","return vec3(rand(dot(v, d[0].xyz)), rand(dot(v, d[1].xyz)), rand(dot(v, d[2].xyz)));");var t=new b("rand3","vec3","snippet");t.parameters.add("v","vec3"),t.parameters.add("d","mat4"),t.parameters.add("s","vec4"),t.parameters.apply(),t.bodySnippet=new c("body","return vec3(rand(dot(v, d[0].xyz), s), rand(dot(v, d[1].xyz), s), rand(dot(v, d[2].xyz), s));");var u=new b("rand3Rot","vec3","snippet");u.parameters.add("v","vec3"),u.parameters.apply(),u.bodySnippet=new c("body","float x = 2.0 * 3.14159265358 * rand(dot(v, dotseed[0].xyz));\n  float y = 2.0 * 3.14159265358 * rand(dot(v, dotseed[1].xyz));\n  float z = 2.0 * 3.14159265358 * rand(dot(v, dotseed[2].xyz));\n  return mat3(\n    1.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x),\n    0.0, sin(x), cos(x)\n  ) * mat3(\n    cos(y), 0.0, sin(y),\n    0.0, 1.0, 0.0,\n    -sin(y), 0.0, cos(y)\n  ) * mat3(\n    cos(z), -sin(z), 0.0,\n    sin(z), cos(z), 0.0,\n    0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var v=new b("rand3Rot","vec3","snippet");v.parameters.add("v","vec3"),v.parameters.add("d","mat4"),v.parameters.add("s","vec4"),v.parameters.apply(),v.bodySnippet=new c("body","float x = 2.0 * 3.14159265358 * rand(dot(v, d[0].xyz), s);\n  float y = 2.0 * 3.14159265358 * rand(dot(v, d[1].xyz), s);\n  float z = 2.0 * 3.14159265358 * rand(dot(v, d[2].xyz), s);\n  return mat3(\n    1.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x),\n    0.0, sin(x), cos(x)\n  ) * mat3(\n    cos(y), 0.0, sin(y),\n    0.0, 1.0, 0.0,\n    -sin(y), 0.0, cos(y)\n  ) * mat3(\n    cos(z), -sin(z), 0.0,\n    sin(z), cos(z), 0.0,\n    0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var w=new b("rand3Unit","vec3","snippet");w.parameters.add("v","vec3"),w.parameters.apply(),w.bodySnippet=new c("body","vec2 r = rand3(v);\n  if(length(r) < 0.00001)\n    return r = rand3(v.yzx);\n  if(length(r) < 0.00001)\n    return r = rand3(v.zxy);\n  if(length(r) < 0.00001)\n    return r = rand3(v.zyx);\n  if(length(r) < 0.00001)\n    return r = rand3(v.yxz);\n  if(length(r) < 0.00001)\n    return r = rand3(v.xzy);\n  return r / length(v);");var x=new b("rand3Unit","vec3","snippet");x.parameters.add("v","vec3"),x.parameters.add("d","mat4"),x.parameters.add("s","mat4"),x.parameters.apply(),x.bodySnippet=new c("body","vec2 r = rand3(v, d, s[0]);\n  if(length(r) < 0.00001)\n    return r = rand3(v, d, s[1]);\n  if(length(r) < 0.00001)\n    return r = rand3(v, d, s[2]);\n  if(length(r) < 0.00001)\n    return r = rand3(v, d, s[3]);\n  return r / length(v);");var y=new b("rand4","vec4","snippet");y.parameters.add("v","vec4"),y.parameters.apply(),y.bodySnippet=new c("body","return vec4(rand(dot(v, d[0])), rand(dot(v, d[1])), rand(dot(v, d[2])), rand(dot(v, d[3])));");var z=new b("rand4","vec4","snippet");z.parameters.add("v","vec4"),z.parameters.add("d","mat4"),z.parameters.add("s","vec4"),z.parameters.apply(),z.bodySnippet=new c("body","return vec4(rand(dot(v, d[0]), s), rand(dot(v, d[1]), s), rand(dot(v, d[2]), s), rand(dot(v, d[3]), s));");var A=new b("rand4Rot","vec4","snippet");A.parameters.add("v","vec4"),A.parameters.apply(),A.bodySnippet=new c("body","float x = 2.0 * 3.14159265358 * rand(dot(v, dotseed[0]));\n  float y = 2.0 * 3.14159265358 * rand(dot(v, dotseed[1]));\n  float z = 2.0 * 3.14159265358 * rand(dot(v, dotseed[2]));\n  float w = 2.0 * 3.14159265358 * rand(dot(v, dotseed[3]));\n  return mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x), 0.0,\n    0.0, sin(x), cos(x) 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, cos(y), -sin(y),\n    0.0, 0.0, sin(y), cos(y)\n  ) * mat3(\n    cos(z), 0.0, 0.0, sin(z),\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    -sin(z), 0.0, 0.0, cos(z)\n  ) * mat3(\n    cos(w), -sin(w), 0.0, 0.0,\n    sin(w), cos(w), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var B=new b("rand4Rot","vec4","snippet");B.parameters.add("v","vec4"),B.parameters.add("d","mat4"),B.parameters.add("s","vec4"),B.parameters.apply(),B.bodySnippet=new c("body","float x = 2.0 * 3.14159265358 * rand(dot(v, d[0]), s);\n  float y = 2.0 * 3.14159265358 * rand(dot(v, d[1]), s);\n  float z = 2.0 * 3.14159265358 * rand(dot(v, d[2]), s);\n  float w = 2.0 * 3.14159265358 * rand(dot(v, d[3]), s);\n  return mat3mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(x), -sin(x), 0.0,\n    0.0, sin(x), cos(x) 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * mat3(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, cos(y), -sin(y),\n    0.0, 0.0, sin(y), cos(y)\n  ) * mat3(\n    cos(z), 0.0, 0.0, sin(z),\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    -sin(z), 0.0, 0.0, cos(z)\n  ) * mat3(\n    cos(w), -sin(w), 0.0, 0.0,\n    sin(w), cos(w), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  ) * vec3(1.0, 0.0, 0.0);");var C=new b("rand4Unit","vec4","snippet");C.parameters.add("v","vec4"),C.parameters.apply(),C.bodySnippet=new c("body","vec4 r = rand4(v);\n  if(length(r) < 0.00001)\n    return r = rand4(v.yzwx);\n  if(length(r) < 0.00001)\n    return r = rand4(v.zwxy);\n  if(length(r) < 0.00001)\n    return r = rand4(v.wxyz);\n  return r / length(v);");var D=new b("rand4Unit","vec4","snippet");D.parameters.add("v","vec4"),D.parameters.add("d","mat4"),D.parameters.add("s","mat4"),D.parameters.apply(),D.bodySnippet=new c("body","vec2 r = rand4(v, d, s[0]);\n  if(length(r) < 0.00001)\n    return r = rand4(v, d, s[1]);\n  if(length(r) < 0.00001)\n    return r = rand4(v, d, s[2]);\n  if(length(r) < 0.00001)\n    return r = rand4(v, d, s[3]);\n  return r / length(v);");var E=new b("mix1","float","snippet");E.parameters.addMultiple([{paramname:"x",datatype:"float"},{paramname:"y",datatype:"float"},{paramname:"a",datatype:"float"}]),E.parameters.apply(),E.bodySnippet=new c("body","return (1.0 - a) * x + a * y;");var F=new b("curve3","float","snippet");F.parameters.add("a","float"),F.parameters.apply(),F.bodySnippet=new c("body","return a * a * (3.0 - 2.0 * a);");var G=new b("mix3","float","snippet");G.parameters.addMultiple([{paramname:"x",datatype:"float"},{paramname:"y",datatype:"float"},{paramname:"a",datatype:"float"}]),G.parameters.apply(),G.bodySnippet=new c("body","return mix1(x, y, curve3(a));");var H=new b("curve5","float","snippet");H.parameters.add("a","float"),H.parameters.apply(),H.bodySnippet=new c("body","return a * a * a * (a * (6.0 * a - 15.0) + 10.0);");var I=new b("mix5","float","snippet");I.parameters.addMultiple([{paramname:"x",datatype:"float"},{paramname:"y",datatype:"float"},{paramname:"a",datatype:"float"}]),I.parameters.apply(),I.bodySnippet=new c("body","return mix1(x, y, curve5(a));");var J=new b("perlin","float","snippet");J.parameters.add("p","vec2"),J.parameters.apply(),J.bodySnippet=new c("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  float sw = rand(l), se = rand(vec2(u.x, l.y));\n  float nw = rand(vec2(l.x, u.y)), ne = rand(u);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var K=new b("perlin","float","snippet");K.parameters.add("p","vec2"),K.parameters.add("ds","mat4"),K.parameters.add("ss","vec4"),K.parameters.apply(),K.bodySnippet=new c("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  float sw = rand(l, ds, ss), se = rand(vec2(u.x, l.y), ds, ss);\n  float nw = rand(vec2(l.x, u.y), ds, ss), ne = rand(u, ds, ss);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var L=new b("fperlin","float","snippet");L.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),L.parameters.apply(),L.bodySnippet=new c("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 7; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value += (perlin(p / r, ds, c) * 2.0 - 1.0) / s;\n  s = s * l;\n  r = r / l;\n}\nreturn value * 0.5 + 0.5;");var M=new b("perlin","float","snippet");M.parameters.add("pos","vec3"),M.parameters.apply(),M.bodySnippet=new c("body","vec3 l = floor(pos);\n  vec3 u = ceil(pos);\n  vec3 f = fract(pos);\n  float nnn = rand(l),                   nnp = rand(vec3(l.xy, u.z));\n  float npn = rand(vec3(l.x, u.y, l.z)), npp = rand(vec3(l.x, u.yz));\n  float pnn = rand(vec3(u.x, l.yz)),     pnp = rand(vec3(u.x, l.y, u.z));\n  float ppn = rand(vec3(u.xy, l.z)),     ppp = rand(u);\n  float nn = mix5(nnn, nnp, f.z), np = mix5(npn, npp, f.z);\n  float pn = mix5(pnn, pnp, f.z), pp = mix5(ppn, ppp, f.z);\n  float n = mix5(nn, np, f.y), p = mix5(pn, pp, f.y);\n  return mix5(n, p, f.x);");var N=new b("perlin","float","snippet");N.parameters.add("pos","vec3"),N.parameters.add("ds","mat4"),N.parameters.add("ss","vec4"),N.parameters.apply(),N.bodySnippet=new c("body","vec3 l = floor(pos);\n  vec3 u = ceil(pos);\n  vec3 f = fract(pos);\n  float nnn = rand(l, ds, ss), nnp = rand(vec3(l.xy, u.z), ds, ss);\n  float npn = rand(vec3(l.x, u.y, l.z), ds, ss), npp = rand(vec3(l.x, u.yz), ds, ss);\n  float pnn = rand(vec3(u.x, l.yz), ds, ss), pnp = rand(vec3(u.x, l.y, u.z), ds, ss);\n  float ppn = rand(vec3(u.xy, l.z), ds, ss), ppp = rand(u, ds, ss);\n  float nn = mix5(nnn, nnp, f.z), np = mix5(npn, npp, f.z);\n  float pn = mix5(pnn, pnp, f.z), pp = mix5(ppn, ppp, f.z);\n  float n = mix5(nn, np, f.y), p = mix5(pn, pp, f.y);\n  return mix5(n, p, f.x);");var O=new b("fperlin","float","snippet");O.parameters.addMultiple([{paramname:"p",datatype:"vec3"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"fb",datatype:"vec3"},{paramname:"is",datatype:"int"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),O.parameters.apply(),O.bodySnippet=new c("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 10; i++) {\n  if(i < is) {\n    c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n    value += (perlin(fb * value + vec3(p.xy / r, p.z), ds, c) * 2.0 - 1.0) / s;\n    s = s * l;\n    r = r / l;\n  }\n}\nreturn value * 0.5 + 0.5;");var P=new b("perlinGradient","float","snippet");P.parameters.add("p","vec2"),P.parameters.apply(),P.bodySnippet=new c("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  vec2 vse = vec2(u.x, l.y), vnw = vec2(l.x, u.y);\n  float sw = dot(rand2Rot(l), p - l), se = dot(rand2Rot(vse), p - vse);\n  float nw = dot(rand2Rot(vnw), p - vnw), ne = dot(rand2Rot(u), p - u);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var Q=new b("perlinGradient","float","snippet");Q.parameters.add("p","vec2"),Q.parameters.add("ds","mat4"),Q.parameters.add("ss","vec4"),Q.parameters.apply(),Q.bodySnippet=new c("body","vec2 l = floor(p);\n  vec2 u = ceil(p);\n  vec2 f = fract(p);\n  vec2 vse = vec2(u.x, l.y), vnw = vec2(l.x, u.y);\n  float sw = dot(rand2Rot(l, ds, ss), p - l), se = dot(rand2Rot(vse, ds, ss), p - vse);\n  float nw = dot(rand2Rot(vnw, ds, ss), p - vnw), ne = dot(rand2Rot(u, ds, ss), p - u);\n  float n = mix5(nw, ne, f.x), s = mix5(sw, se, f.x);\n  return mix5(s, n, f.y);");var R=new b("fperlinGradient","float","snippet");R.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),R.parameters.apply(),R.bodySnippet=new c("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 7; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value += perlinGradient(p / r, ds, c) / s;\n  s = s * l;\n  r = r / l;\n}\nreturn value * 0.5 + 0.5;");var S=new b("simplex","float","snippet");S.parameters.add("p","vec2"),S.parameters.apply(),S.bodySnippet=new c("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 op = gl_FragCoord.xy / u_resolution;\n  vec2 ip = it * op;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 ol = t * il;\n  vec2 oc, oc1, oc2, oc3;\n  oc = ol + vec2(0.75, sqrt(3.0) / 4.0);\n  oc2 = ol + vec2(1.0, 0.0);\n  oc3 = ol + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = oc2.y - oc3.y, x32 = oc3.x - oc2.x, x13, y13;\n  float x03 = op.x - oc3.x, y03 = op.y - oc3.y;\n  if(f.x + f.y < 1.0) {\n    oc1 = ol;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    oc1 = ol + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = oc1.x - oc3.x;\n  y13 = oc1.y - oc3.y;\n  vec3 r = vec3(rand(oc1), rand(oc2), rand(oc3));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z);");var T=new b("simplex","float","snippet");T.parameters.add("p","vec2"),T.parameters.add("ds","mat4"),T.parameters.add("ss","vec4"),T.parameters.apply(),T.bodySnippet=new c("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 op = gl_FragCoord.xy / u_resolution;\n  vec2 ip = it * op;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 ol = t * il;\n  vec2 oc, oc1, oc2, oc3;\n  oc = ol + vec2(0.75, sqrt(3.0) / 4.0);\n  oc2 = ol + vec2(1.0, 0.0);\n  oc3 = ol + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = oc2.y - oc3.y, x32 = oc3.x - oc2.x, x13, y13;\n  float x03 = op.x - oc3.x, y03 = op.y - oc3.y;\n  if(f.x + f.y < 1.0) {\n    oc1 = ol;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    oc1 = ol + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = oc1.x - oc3.x;\n  y13 = oc1.y - oc3.y;\n  vec3 r = vec3(rand(oc1, ds, ss), rand(oc2, ds, ss), rand(oc3, ds, ss));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z);");var U=new b("fsimplex","float","snippet");U.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),U.parameters.apply(),U.bodySnippet=new c("body","float value = 0.0;\nvec4 c = ss;\nfor(float i = 0.0; i < 5.0; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value = (simplex(p * pow(2.0, i) / r, ds, c) * 2.0 - 1.0) * pow(0.5, i) / s;\n  //value = simplex(p / r, ds, c) / s;\n}\nreturn value * 0.5 + 0.5;");var V=new b("simplexGradient","float","snippet");V.parameters.add("p","vec2"),V.parameters.apply(),V.bodySnippet=new c("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 ip = it * p;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 l = t * il;\n  vec2 c, c1, c2, c3;\n  c = l + vec2(0.75, sqrt(3.0) / 4.0);\n  c2 = l + vec2(1.0, 0.0);\n  c3 = l + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = c2.y - c3.y, x32 = c3.x - c2.x, x13, y13;\n  float x03 = p.x - c3.x, y03 = p.y - c3.y;\n  if(f.x + f.y < 1.0) {\n    c1 = l;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    c1 = l + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = c1.x - c3.x;\n  y13 = c1.y - c3.y;\n  vec3 r = vec3(dot(rand2Rot(c1), p - c1), dot(rand2Rot(c2), p - c2), dot(rand2Rot(c3), p - c3));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z);");var W=new b("simplexGradient","float","snippet");W.parameters.add("p","vec2"),W.parameters.add("ds","mat4"),W.parameters.add("ss","vec4"),W.parameters.apply(),W.bodySnippet=new c("body","mat2 t = mat2(1.0, 0.0, 0.5, sqrt(3.0 / 4.0));\n  mat2 it = mat2(1.0, 0.0, -sqrt(1.0 / 3.0), 2.0 * sqrt(1.0 / 3.0));\n  vec2 ip = it * p;\n  vec2 il = floor(ip);\n  vec2 f = fract(ip);\n  vec2 l = t * il;\n  vec2 c, c1, c2, c3;\n  c = l + vec2(0.75, sqrt(3.0) / 4.0);\n  c2 = l + vec2(1.0, 0.0);\n  c3 = l + vec2(0.5, sqrt(3.0 / 4.0));\n  //float y23 = -sqrt(3.0 / 4.0), x32 = -0.5, x13, y13;\n  float y23 = c2.y - c3.y, x32 = c3.x - c2.x, x13, y13;\n  float x03 = p.x - c3.x, y03 = p.y - c3.y;\n  if(f.x + f.y < 1.0) {\n    c1 = l;\n    x13 = -0.5;\n    y13 = -sqrt(3.0 / 4.0);\n  }\n  else {\n    c1 = l + vec2(1.5, sqrt(3.0 / 4.0));\n    x13 = 1.0;\n    y13 = 0.0;\n  }\n  x13 = c1.x - c3.x;\n  y13 = c1.y - c3.y;\n  vec3 r = vec3(dot(rand2Rot(c1, ds, ss), p - c1), dot(rand2Rot(c2, ds, ss), p - c2), dot(rand2Rot(c3, ds, ss), p - c3));\n  //r = vec3(0.0, 0.0, 1.0);\n  //vec3 d = vec3(length(op - oc1), length(op - oc2), length(op - oc3));\n  //vec3 w = 1.0 / d;\n  vec3 w = vec3((y23 * x03 + x32 * y03) / (y23 * x13 + x32 * y13), (-y13 * x03 + x13 * y03) / (y23 * x13 + x32 * y13), 0.0);\n  w.z = 1.0 - w.x - w.y;\n  vec3 w3 = w * w * (3.0 - 2.0 * w);\n  vec3 w5 = w * w * w * (6.0 * w * w - 15.0 * w + 10.0);\n  vec3 rv = r * w5;\n  return (rv.x + rv.y + rv.z) / (w5.x + w5.y + w5.z) * 0.5 + 0.5;");var X=new b("fsimplexGradient","float","snippet");X.parameters.addMultiple([{paramname:"p",datatype:"vec2"},{paramname:"r",datatype:"float"},{paramname:"s",datatype:"float"},{paramname:"l",datatype:"float"},{paramname:"ds",datatype:"mat4"},{paramname:"ss",datatype:"vec4"}]),X.parameters.apply(),X.bodySnippet=new c("body","float value = 0.0;\nvec4 c = ss;\nfor(int i = 0; i < 7; i++) {\n  c = rand4(c, ds, ss) * 32109.8765432 + 12345.6789012;\n  value += simplexGradient(p / r, ds, c) / s;\n  s = s * l;\n  r = r / l;\n}\nreturn value * 0.5 + 0.5;");var Y=new b("ridge","float","snippet");Y.parameters.add("h","float"),Y.parameters.add("offset","float"),Y.parameters.apply(),Y.bodySnippet=new c("body","h = abs(h);\nh = offset - h;\nh = h * h;\nreturn h;");var Z=function(){var a=new c("grayscale");return a.source='vec4(vec3(${S("value", "null")}), ${P("alpha")})',a.addParameter("v","alpha",{type:"float",nullValue:1}),a},$=function(){var a=new c("direction2");return a.source='vec4(${S("dir", "null")} * 0.5 + 0.5, ${P("blue")}, ${P("alpha")})',a.addParameter("v","alpha",{type:"float",nullValue:1}),a.addParameter("v","blue",{type:"float",nullValue:.5}),a},_=function(){var a=new c("direction2");return a.source='vec4(${S("dir", "null")} * 0.5 + 0.5, ${P("alpha")})',a.addParameter("v","alpha",{type:"float",nullValue:1}),a},aa=new a("sineNoiseFragment");aa.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),aa.variables.apply(),aa.addFunctions([e,g]);var ba=Z();ba.addSnippet("value",new c("sinenoise","rand(floor(gl_FragCoord.xy / u_resolution))")),ba.setParameter("alpha","1.0");var ca=new c("sineNoiseFragmentBody");ca.source='gl_FragColor = ${S("grayscale", "null")};',ca.addSnippet("grayscale",ba),aa.mainSnippet=ca;var da=new a("sineNoiseFragment");da.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),da.variables.apply(),da.addFunctions([e,o]);var ea=$();ea.addSnippet("dir",new c("sinenoise","rand2Rot(floor(gl_FragCoord.xy / u_resolution))")),ea.setParameter("blue","1.0"),ea.setParameter("alpha","1.0");var fa=new c("sineNoiseFragmentBody");fa.source='gl_FragColor = ${S("direction", "null")};',fa.addSnippet("direction",ea),da.mainSnippet=fa;var ga=new a("perlinNoiseFragment");ga.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ga.variables.apply(),ga.addFunctions([e,g,E,H,I,J]),ba=Z(),ba.addSnippet("value",new c("perlinnoise","perlin(gl_FragCoord.xy / u_resolution)")),ba.setParameter("alpha","1.0");var ha=new c("sineNoiseFragmentBody");ha.source='gl_FragColor = ${S("grayscale", "null")};',ha.addSnippet("grayscale",ba),ga.mainSnippet=ha;var ia=new a("fractalPerlinNoiseFragment");ia.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ia.variables.apply(),ia.addFunctions([f,h,z,E,H,I,K,L]),ba=Z(),ba.addSnippet("value",new c("fractalperlinnoise","fperlin(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ba.setParameter("alpha","1.0");var ja=new c("sineNoiseFragmentBody");ja.source='gl_FragColor = ${S("grayscale", "null")};',ja.addSnippet("grayscale",ba),ia.mainSnippet=ja;var ka=new a("perlinNoiseFragment");ka.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"},{varname:"u_time",datatype:"float",vartype:"uniform"}]),ka.variables.apply(),ka.addFunctions([e,i,E,H,I,M]),ba=Z(),ba.addSnippet("value",new c("perlinnoise","perlin(vec3(gl_FragCoord.xy / u_resolution, u_time))")),ba.setParameter("alpha","1.0");var la=new c("sineNoiseFragmentBody");la.source='gl_FragColor = ${S("grayscale", "null")};',la.addSnippet("grayscale",ba),ka.mainSnippet=la;var ma=new a("fractalPerlinNoiseFragment");ma.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"},{varname:"u_time",datatype:"float",vartype:"uniform"}]),ma.variables.apply(),ma.addFunctions([f,j,z,E,H,I,N,O]),ba=Z(),ba.addSnippet("value",new c("fractalperlinnoise","fperlin(vec3(gl_FragCoord.xy, u_time), u_resolution, 1.0, 2.0, vec3(0.0), 10, u_dotseed, u_sineseed[0])")),ba.setParameter("alpha","1.0");var na=new c("sineNoiseFragmentBody");na.source='gl_FragColor = ${S("grayscale", "null")};',na.addSnippet("grayscale",ba),ma.mainSnippet=na;var oa=new a("perlinNoiseFragment");oa.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),oa.variables.apply(),oa.addFunctions([e,o,E,H,I,P]),ba=Z(),ba.addSnippet("value",new c("perlinnoise","perlinGradient(gl_FragCoord.xy / u_resolution) * 0.5 + 0.5")),ba.setParameter("alpha","1.0");var pa=new c("sineNoiseFragmentBody");pa.source='gl_FragColor = ${S("grayscale", "null")};',pa.addSnippet("grayscale",ba),oa.mainSnippet=pa;var qa=new a("fractalPerlinNoiseFragment");qa.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),qa.variables.apply(),qa.addFunctions([f,p,z,E,H,I,Q,R]),ba=Z(),ba.addSnippet("value",new c("fractalperlinnoise","fperlinGradient(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ba.setParameter("alpha","1.0");var ra=new c("sineNoiseFragmentBody");ra.source='gl_FragColor = ${S("grayscale", "null")};',ra.addSnippet("grayscale",ba),qa.mainSnippet=ra;var sa=new a("simplexNoiseFragment");sa.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),sa.variables.apply(),sa.addFunctions([e,g,E,H,I,S]),ba=Z(),ba.addSnippet("value",new c("simplexnoise","simplex(gl_FragCoord.xy / u_resolution)")),ba.setParameter("alpha","1.0");var ta=new c("sineNoiseFragmentBody");ta.source='gl_FragColor = ${S("grayscale", "null")};',ta.addSnippet("grayscale",ba),sa.mainSnippet=ta;var ua=new a("fractalSimplexNoiseFragment");ua.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ua.variables.apply(),ua.addFunctions([f,h,z,E,H,I,T,U]),ba=Z(),ba.addSnippet("value",new c("fractalsimplexnoise","fsimplex(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ba.setParameter("alpha","1.0");var va=new c("sineNoiseFragmentBody");va.source='gl_FragColor = ${S("grayscale", "null")};',va.addSnippet("grayscale",ba),ua.mainSnippet=va;var wa=new a("simplexNoiseFragment");wa.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),wa.variables.apply(),wa.addFunctions([e,o,E,H,I,V]),ba=Z(),ba.addSnippet("value",new c("simplexnoise","simplexGradient(gl_FragCoord.xy / u_resolution) * 0.5 + 0.5")),ba.setParameter("alpha","1.0");var xa=new c("sineNoiseFragmentBody");xa.source='gl_FragColor = ${S("grayscale", "null")};',xa.addSnippet("grayscale",ba),wa.mainSnippet=xa;var ya=new a("fractalSimplexNoiseFragment");ya.variables.addMultiple([{varname:"u_sineseed",datatype:"mat4",vartype:"uniform"},{varname:"u_dotseed",datatype:"mat4",vartype:"uniform"},{varname:"u_resolution",datatype:"float",vartype:"uniform"}]),ya.variables.apply(),ya.addFunctions([f,p,z,E,H,I,W,X]),ba=Z(),ba.addSnippet("value",new c("fractalsimplexnoise","fsimplexGradient(gl_FragCoord.xy, u_resolution, 1.0, 2.0, u_dotseed, u_sineseed[0])")),ba.setParameter("alpha","1.0");var za=new c("sineNoiseFragmentBody");return za.source='gl_FragColor = ${S("grayscale", "null")};',za.addSnippet("grayscale",ba),ya.mainSnippet=za,{snippets:{grayscaleSnippet:Z,direction2Snippet:$,direction3Snippet:_},functions:{rand11Function:e,rand11SeededFunction:f,rand12Function:g,rand12SeededFunction:h,rand13Function:i,rand13SeededFunction:j,rand14Function:k,rand14SeededFunction:l,rand22Function:m,rand22SeededFunction:n,rand22RotFunction:o,rand22RotSeededFunction:p,rand22UnitFunction:q,rand22UnitSeededFunction:r,rand33Function:s,rand33SeededFunction:t,rand33RotFunction:u,rand33RotSeededFunction:v,rand33UnitFunction:w,rand33UnitSeededFunction:x,rand44Function:y,rand44SeededFunction:z,rand44RotFunction:A,rand44RotSeededFunction:B,rand44UnitFunction:C,rand44UnitSeededFunction:D,mix1Function:E,curve3Function:F,mix3Function:G,curve5Function:H,mix5Function:I,perlin2NoiseFunction:J,perlin2NoiseSeededFunction:K,perlin2GradientNoiseFunction:P,perlin2GradientNoiseSeededFunction:Q,simplex2NoiseFunction:S,simplex2NoiseSeededFunction:T,simplex2GradientNoiseFunction:V,simplex2GradientNoiseSeededFunction:W,fractalPerlin2NoiseFunction:L,fractalPerlin2GradientNoiseFunction:R,ridgeFunction:Y,all:[e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,P,Q,S,T,V,W,L,R,Y]},shaders:{vertex:{standardVertexShader:d},fragment:{sineNoiseFragment:aa,sine2RotNoiseFragment:da,perlin2NoiseFragment:ga,fractalPerlin2NoiseFragment:ia,perlin3NoiseFragment:ka,fractalPerlin3NoiseFragment:ma,perlin2GradientNoiseFragment:oa,fractalPerlin2GradientNoiseFragment:qa,simplex2NoiseFragment:sa,fractalSimplex2NoiseFragment:ua,simplex2GradientNoiseFragment:wa,fractalSimplex2GradientNoiseFragment:ya}}}}]);