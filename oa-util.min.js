"use strict";var _window=window,angular=_window.angular;angular.module("oaUtil",[]).service("oaUtil",function(){function a(){this.ngKeySet=function(a,b){var c=Object.assign({key:!0,keys:!0,Key:!1,Keys:!1,ngKey:!0,ngKeys:!0,ng_key:!1,ng_keys:!1},b),d={};d.key=a.toLowerCase(),d.keys=c.plural?c.plural.toLowerCase():d.key+"s",d.Key=d.key.charAt(0).toUpperCase()+d.key.substr(1,d.key.length),d.Keys=c.plural?d.keys.charAt(0).toUpperCase()+d.keys.substr(1,d.keys.length):d.Key+"s",d.ngKey="ng"+d.Key,d.ngKeys=c.plural?"ng"+d.Keys:d.ngKey+"s",d.ng_key="ng-"+d.key,d.ng_keys=c.plural?"ng-"+d.keys:d.ng_key+"s";var e={};return Object.keys(d).forEach(function(a){c[a]&&(e[a]=d[a])}),e},this.arrayFunctions=function(a){var b=this;this.asArray=function(){for(var a=[],c=0;c<b.length;c++)a.push(b[c])};var c=Object.assign({every:!0,fill:!0,forEach:!0,join:!0,map:!0,reduce:!0,reduceRight:!0,reverse:!0,rotate:!0,rotateRight:!0},a);c.every&&(this.every=function(a,b){for(var c=this.asArray(),d=0;d<this.length;d++)if(!a.call(b,this[d],d,c))return!1;return!0}),c.fill&&(this.fill=function(a,b,c){arguments.length<2?(b=0,c=this.length):arguments.length<3&&(c=this.length);for(var d=Math.max(b,0);d<this.length&&c>d;d++)this[d]=a}),c.forEach&&(this.forEach=function(a,b){for(var c=this.asArray(),d=0;d<this.length;d++)a.call(b,this[d],d,c)}),c.join&&(this.join=function(a){for(var b="",c=0;c<this.length;c++)b+=(c>0?a:"")+this[c];return b}),c.map&&(this.map=function(a,b){for(var c=this.asArray(),d=[],e=0;e<this.length;e++)d[e]=a.call(b,this[e],e,c);return d}),c.reduce&&(this.reduce=function(a,b){for(var c=this.asArray(),d=b,e=0;e<this.length;e++)d=a.call(null,d,this[e],e,c);return d}),c.reduceRight&&(this.reduceRight=function(a,b){for(var c=this.asArray(),d=b,e=this.length-1;e>=0;e++)d=a.call(null,d,this[e],e,c);return d}),c.reverse&&(this.reverse=function(){var a=this;keys.reverse().forEach(function(b,c){return a[c]=a[b]})}),c.rotate&&(this.rotate=function(a){var b=this;a%=this.length,keys.slice(a,this.length).concat(keys.slice(0,a)).forEach(function(a,c){return b[c]=b[a]})}),c.rotateRight&&(this.rotateRight=function(a){var b=this;a%=this.length,keys.slice(this.length-a,this.length).concat(keys.slice(0,this.length-a)).forEach(function(a,c){return b[c]=b[a]})})}}return new a}).factory("oaArrayObject",["oaUtil",function(a){function b(b,c,d,e,f,g){var h=this,i=b?b:this;if(Object.defineProperty(this,"objSource",{get:function(){return i},set:function(a){a&&(i=a)}}),!c||!c.length)throw"keys cannot be empty";var j=arguments.length>1?parseInt(d,10):c.length;if(1>j)throw"length must be positive integer";for(var k=c.slice(0,j),l=0;j>l;l++)!function(a){Object.defineProperty(h,a,{get:function(){return e&&e[a]?e[a](i[k[a]]):i[k[a]]},set:function(b){f&&f[a]?i[k[a]]=f[a](b):i[k[a]]=b}})}(l);Object.defineProperty(this,"length",{get:function(){return j}}),this.setArray=function(a){return k.map(function(b,c){a&&a.length>c&&(h[b]=a[c])})},a.arrayFunctions.call(this,g),this.asArray=function(){return k.map(function(a){return h[a]})}}return b}]).factory("oaObjectArray",function(){function a(a,b,c,d,e,f){var g=this,h=a?a:this;if(Object.defineProperty(this,"arrSource",{get:function(){return h},set:function(a){a&&(h=a)}}),!b||!b.length)throw"keys cannot be empty";var i=arguments.length>1?parseInt(c,10):b.length;if(1>i)throw"length must be positive integer";var j=b.slice(0,i),k=Object.assign({offset:0,skip:1},f);Object.defineProperties(this,{offset:{get:function(){return k.offset},set:function(a){k.offset=parseInt(a,10),isNaN(k.offset)&&(k.offset=0)}},skip:{get:function(){return k.skip},set:function(a){k.skip=parseInt(a,10),isNaN(k.skip)&&(k.skip=0)}}});for(var l=function(a){return k.skip&&(a*=k.skip),k.offset&&(a+=k.offset),a},m=0;i>m;m++)!function(a){Object.defineProperty(g,j[a],{get:function(){return d&&d[a]?d[a](h[l(a)]):h[l(a)]},set:function(b){e&&e[a]?h[l(a)]=e[a](b):h[l(a)]=b}})}(m)}return a}).factory("oaIndexProvider",function(){function a(a){var b=[[0,a>0?a:-1]],c=a>0?a:-1,d=a>0?a:0;Object.defineProperties(this,{size:{get:function(){return c},set:function(a){var d,e=b.length-1,f=b[e];return-1==c?0:a>c?(d=a-c,f[0]+f[1]<c?b.push([c,d]):f[1]=f[1]+d,c=a,d):a==c?0:f[0]+f[1]<c?0:(a=Math.min(a,f[0]),d=a-c,c=a,f[0]==a?b.splice(e,1):f[1]=c-f[0],d)}},capacity:{get:function(){return d}}}),this.requestIndex=function(){if(!b.length)return null;var a=b[0],e=a[0];return 1==a[1]?(b.splice(0,1),-1!=c||b.length||b.push([d,1])):(a[0]=a[0]+1,a[1]=a[1]-1),-1==c?d=Math.max(d,e+1):d--,e},this.releaseIndex=function(a){if(!(0>a||a>=c)){for(var e=0;e<b.length;e++){if(a<b[e][0])return void b.splice(e,0,[a,1]);if(a>=b[e][0]&&a<b[e][0]+b[e][1])return;if(a==b[e][0]+b[e][1])return void(b[e][1]=b[e][1]+1)}b.push([a,1]),-1!=c&&d++}}}return a});